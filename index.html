<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bletari "Deni" - MjaltÃ« Natyral Premium</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        /* Header & Navigation */
        header {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            padding: 1rem 0;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
        }
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-links a:hover {
            transform: translateY(-2px);
        }
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: white;
            transition: width 0.3s ease;
        }
        .nav-links a:hover::after {
            width: 100%;
        }
        .mobile-menu {
            display: none;
            background: white;
            color: #f39c12;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
        }
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 50%, #d35400 100%);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: float 20s infinite linear;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-100px); }
        }
        .hero-content {
            z-index: 2;
            max-width: 800px;
        }
        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: slideInUp 1s ease-out;
        }
        .hero p {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: slideInUp 1s ease-out 0.2s both;
        }
        .cta-button {
            background: white;
            color: #f39c12;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            animation: slideInUp 1s ease-out 0.4s both;
        }
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Sections */
        section {
            padding: 5rem 0;
        }
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2c3e50;
            position: relative;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-radius: 2px;
        }
        /* About Section */
        .about {
            background: linear-gradient(135deg, #fff8e1 0%, #ffe0b2 100%);
        }
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }
        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
        }
        .about-text p {
            margin-bottom: 1.5rem;
        }
        .about-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }
        .stat {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .stat:hover {
            transform: translateY(-5px);
        }
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #f39c12;
        }
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 0.5rem;
        }
        /* Products Section */
        .products {
            background: white;
        }
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        .product-image {
            height: 200px;
            background: linear-gradient(135deg, #f39c12, #e67e22);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
        }
        .product-info {
            padding: 1.5rem;
        }
        .product-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        .product-description {
            color: #7f8c8d;
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f39c12;
            margin-bottom: 1rem;
        }
        .order-btn {
            background: #f39c12;
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        .order-btn:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }
        /* Contact Section */
        .contact {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
        }
        .contact-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }
        .contact-info h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #f39c12;
        }
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .contact-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }
        .contact-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
            color: #f39c12;
        }
        .contact-form {
            background: rgba(255,255,255,0.1);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #f39c12;
            font-weight: 500;
        }
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.9);
            font-size: 1rem;
        }
        .form-group textarea {
            height: 120px;
            resize: vertical;
        }
        /* Order Form Specific Styles */
        .order-section {
            background: rgba(255,255,255,0.05);
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 1.5rem;
        }
        .order-section h4 {
            color: #f39c12;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }
        .product-selector {
            display: grid;
            grid-template-columns: 2fr 1fr auto;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        .quantity-input {
            text-align: center;
        }
        .remove-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            white-space: nowrap;
        }
        .remove-btn:hover {
            background: #c0392b;
        }
        .add-product-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            margin-bottom: 1rem;
            width: 100%;
        }
        .add-product-btn:hover {
            background: #219a52;
        }
        .total-section {
            background: rgba(255,255,255,0.1);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        .total-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f39c12;
            text-align: center;
        }
        .submit-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .submit-btn {
            background: #f39c12;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        .submit-btn:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }
        .submit-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }
        .whatsapp-btn {
            background: #25d366;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        .whatsapp-btn:hover {
            background: #20ba5a;
            transform: translateY(-2px);
        }
        .order-summary {
            background: rgba(255,255,255,0.1);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: none;
        }
        .order-summary h5 {
            color: #f39c12;
            margin-bottom: 0.5rem;
        }
        .order-summary-content {
            font-size: 0.9rem;
            line-height: 1.4;
        }
        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 2rem 0;
        }
        /* Success Message */
        .success-message {
            background: #27ae60;
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: none;
        }
        .error-message {
            background: #e74c3c;
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: none;
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #f39c12;
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            }
            .nav-links.active {
                display: flex;
            }
            .mobile-menu {
                display: block;
            }
            .hero h1 {
                font-size: 2.5rem;
            }
            .hero p {
                font-size: 1.2rem;
            }
            .about-content,
            .contact-content {
                grid-template-columns: 1fr;
            }
            .about-stats {
                grid-template-columns: 1fr;
            }
            .products-grid {
                grid-template-columns: 1fr;
            }
            .product-selector {
                grid-template-columns: 1fr;
                gap: 0.5rem;
                text-align: center;
            }
            .submit-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <a href="#" class="logo">ð Bletari "Deni"</a>
            <ul class="nav-links">
                <li><a href="#home">Ballina</a></li>
                <li><a href="#about">Rreth Nesh</a></li>
                <li><a href="#products">Produktet</a></li>
                <li><a href="#contact">Kontakt</a></li>
            </ul>
            <button class="mobile-menu" onclick="toggleMenu()">â°</button>
        </nav>
    </header>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1>MjaltÃ« Natyral Premium</h1>
            <p>Nga ferma jonÃ« familjare nÃ« tryezÃ«n tuaj - mjaltÃ« i pastÃ«r, i papÃ«rpunuar dhe i shijshÃ«m</p>
            <a href="#products" class="cta-button">Shikoni Produktet</a>
        </div>
    </section>

    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title">Rreth Nesh</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>Bletari "Deni" Ã«shtÃ« njÃ« ndÃ«rmarrje familjare me traditÃ« tÃ« gjatÃ« nÃ« bletari. PÃ«r mÃ« shumÃ« se 30 vjet, ne kemi qenÃ« tÃ« pÃ«rkushtuar ndaj artit tÃ« bletarisÃ« dhe prodhimit tÃ« mjaltit tÃ« cilÃ«sisÃ« sÃ« lartÃ«.</p>
                    
                    <p>Ferma jonÃ« ndodhet nÃ« njÃ« zonÃ« tÃ« privilegjuar nÃ« ShqipÃ«ri, ku bletÃ«t tona ushqehen nga bimÃ«sia e pasur e maleve. Ãdo kavanoz mjalti Ã«shtÃ« dÃ«shmi e angazhimit tonÃ« ndaj cilÃ«sisÃ«, pastÃ«rtisÃ« dhe mirÃ«qenies sÃ« bletÃ«ve tona tÃ« Ã§muara.</p>
                    
                    <p>Ne zbatojmÃ« praktika tÃ« qÃ«ndrueshme tÃ« bletarisÃ« qÃ« respektojnÃ« sjelljen natyrore tÃ« bletÃ«ve dhe prodhojnÃ« mjaltÃ« me shije unike qÃ« reflektojnÃ« terroirin vendor.</p>
                </div>
                <div class="about-stats">
                    <div class="stat">
                        <div class="stat-number">330+</div>
                        <div class="stat-label">Koshere Aktive</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">30+</div>
                        <div class="stat-label">Vite PÃ«rvojÃ«</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">3000+</div>
                        <div class="stat-label">Kg nÃ« Vit</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Natyral & i PastÃ«r</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="products" class="products">
        <div class="container">
            <h2 class="section-title">Produktet Tona</h2>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be dynamically generated here -->
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">Na Kontaktoni</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Informacione Kontakti</h3>
                    <div class="contact-item" onclick="openLocation()">
                        <span class="contact-icon">ð</span>
                        <div>
                            <strong>Adresa:</strong><br>
                            Fshat ValikardhÃ«<br>
                            Bashkia BulqizÃ«, ShqipÃ«ri<br>
                            <small style="color: #f39c12;">Kliko pÃ«r tÃ« hapur hartat</small>
                        </div>
                    </div>
                    <div class="contact-item" onclick="callPhone('+355685255190')">
                        <span class="contact-icon">ð</span>
                        <div>
                            <strong>Telefoni:</strong><br>
                            +355 68 52 55 190 / +355 68 26 02 943<br>
                            <small style="color: #f39c12;">Kliko pÃ«r tÃ« telefonuar</small>
                        </div>
                    </div>
                    <div class="contact-item" onclick="sendEmail()">
                        <span class="contact-icon">ð§</span>
                        <div>
                            <strong>Email:</strong><br>
                            bletarideni@gmail.com<br>
                            <small style="color: #f39c12;">Kliko pÃ«r tÃ« dÃ«rguar email</small>
                        </div>
                    </div>
                    <div class="contact-item">
                        <span class="contact-icon">ð</span>
                        <div>
                            <strong>Orari i VizitÃ«s:</strong><br>
                            E HÃ«nÃ« - E Premte: 9:00-17:00<br>
                            E ShtunÃ«: 9:00-15:00<br>
                            (VetÃ«m me takim)
                        </div>
                    </div>
                </div>
                <form class="contact-form" id="contactForm">
                    <div class="success-message" id="successMessage">
                        Porosia juaj u dÃ«rgua me sukses! Do t'ju kontaktojmÃ« sÃ« shpejti.
                    </div>
                    <div class="error-message" id="errorMessage">
                        Ju lutemi plotÃ«soni tÃ« gjitha fushat e detyrueshme.
                    </div>
                    
                    <div class="form-group">
                        <label for="name">Emri *</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Telefoni</label>
                        <input type="tel" id="phone" name="phone">
                    </div>
                    
                    <div class="order-section">
                        <h4>Produktet qÃ« dÃ«shironi tÃ« porositni</h4>
                        <div id="productSelectors">
                            <!-- Product selectors will be dynamically generated here -->
                        </div>
                        <button type="button" class="add-product-btn" onclick="addProduct()">+ Shto Produkt TjetÃ«r</button>
                        
                        <div class="total-section">
                            <div class="total-price">
                                Totali: <span id="totalAmount">0</span> LekÃ«
                            </div>
                        </div>

                        <div class="order-summary" id="orderSummary">
                            <h5>PÃ«rmbledhje e PorosisÃ«:</h5>
                            <div class="order-summary-content" id="orderSummaryContent"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Mesazhi shtesÃ«</label>
                        <textarea id="message" name="message" placeholder="Shkruani ndonjÃ« mesazh shtesÃ« kÃ«tu..."></textarea>
                    </div>
                    
                    <div class="submit-options">
                        <button type="button" class="whatsapp-btn" id="whatsappBtn" onclick="sendWhatsApp()">ð± DÃ«rgo nÃ« WhatsApp</button>
                        <button type="submit" class="submit-btn" id="submitBtn">ð§ DÃ«rgo me Email</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2025 Bletari "Deni". TÃ« gjitha tÃ« drejtat e rezervuara. | BÃ«rÃ« me ð¯ dhe dashuri</p>
        </div>
    </footer>

    <script>
        // Centralized Product Data - Edit prices and details here
        const PRODUCTS = [
            {
                name: 'QumÃ«sht Blete',
                price: 6000,
                unit: '10g',
                emoji: 'ð¥',
                description: 'QumÃ«sht blete i pastÃ«r me veti ushqyese tÃ« jashtÃ«zakonshme, i pasur me vitamina dhe minerale.'
            },
            {
                name: 'MjaltÃ« ShumÃ«llojshmÃ«ri Lulesh',
                price: 2000,
                unit: '1000g',
                emoji: 'ð¯',
                description: 'MjaltÃ« i mbledhur nga lule tÃ« ndryshme, me shije komplekse dhe tÃ« pasur.'
            },
            {
                name: 'MjaltÃ« GÃ«shtenje',
                price: 2000,
                unit: '1000g',
                emoji: 'ð°',
                description: 'MjaltÃ« me ngjyrÃ« tÃ« errÃ«t dhe shije tÃ« pasur, i pÃ«rsosur pÃ«r ata qÃ« preferojnÃ« shije mÃ« intense.'
            },
            {
                name: 'MjaltÃ« TrumÃ«ze',
                price: 2000,
                unit: '1000g',
                emoji: 'ð¼',
                description: 'MjaltÃ« delikat nga lulet e trumÃ«zÃ«s, me shije tÃ« butÃ« dhe aromÃ« tÃ« kÃ«ndshme.'
            },
            {
                name: 'Polen',
                price: 3000,
                unit: '20ml',
                emoji: 'ð',
                description: 'Polen natyral i pasur me proteina, vitamina dhe minerale pÃ«r forcimin e organizmit.'
            },
            {
                name: 'Propolis',
                price: 500,
                unit: '500mg',
                emoji: 'ð',
                description: 'Propolis natyral me veti terapeutike, i pÃ«rdorur tradicionalisht pÃ«r forcimin e imunitetit.'
            }
        ];

        // Generate product prices object for easy access
        const productPrices = {};
        PRODUCTS.forEach(product => {
            productPrices[product.name] = product.price;
        });

        // Generate Products Grid
        function generateProductsGrid() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = PRODUCTS.map(product => `
                <div class="product-card">
                    <div class="product-image">${product.emoji}</div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price">${product.price.toLocaleString()} LekÃ« / ${product.unit}</div>
                        <button class="order-btn" onclick="orderProduct('${product.name}', ${product.price})">Porosit Tani</button>
                    </div>
                </div>
            `).join('');
        }

        // Generate Product Selector Options
        function generateProductOptions() {
            return PRODUCTS.map(product => 
                `<option value="${product.name}" data-price="${product.price}">${product.name} - ${product.price.toLocaleString()} LekÃ«</option>`
            ).join('');
        }

        // Create Product Selector HTML
        function createProductSelector() {
            return `
                <div class="product-selector">
                    <select class="product-select" onchange="updateTotal()">
                        <option value="">Zgjidhni produktin</option>
                        ${generateProductOptions()}
                    </select>
                    <input type="number" class="quantity-input" min="1" value="1" onchange="updateTotal()" placeholder="Sasia">
                    <button type="button" class="remove-btn" onclick="removeProduct(this)" style="display: none;">Hiq</button>
                </div>
            `;
        }

        // Initialize first product selector
        function initializeProductSelectors() {
            const container = document.getElementById('productSelectors');
            container.innerHTML = createProductSelector();
        }

        // Contact functions
        function openLocation() {
            window.open('https://maps.app.goo.gl/87EaCDrAxoEDvSxe6', '_blank');
        }

        function callPhone(number) {
            window.location.href = `tel:${number}`;
        }

        function sendEmail() {
            window.location.href = 'mailto:bletarideni@gmail.com';
        }

        // Mobile menu toggle
        function toggleMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('active');
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                    // Close mobile menu if open
                    const navLinks = document.querySelector('.nav-links');
                    navLinks.classList.remove('active');
                }
            });
        });

        // Product order function
        function orderProduct(productName, price) {
            // Scroll to contact form
            document.getElementById('contact').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
            
            // Add product to the first empty selector or create new one
            setTimeout(() => {
                const selectors = document.querySelectorAll('.product-select');
                let added = false;
                
                for (let selector of selectors) {
                    if (!selector.value) {
                        selector.value = productName;
                        updateTotal();
                        added = true;
                        break;
                    }
                }
                
                if (!added) {
                    addProduct();
                    const newSelectors = document.querySelectorAll('.product-select');
                    newSelectors[newSelectors.length - 1].value = productName;
                    updateTotal();
                }
                
                document.getElementById('message').focus();
            }, 1000);
        }

        // Add new product selector
        function addProduct() {
            const container = document.getElementById('productSelectors');
            const newSelector = document.createElement('div');
            newSelector.className = 'product-selector';
            newSelector.innerHTML = `
                <select class="product-select" onchange="updateTotal()">
                    <option value="">Zgjidhni produktin</option>
                    ${generateProductOptions()}
                </select>
                <input type="number" class="quantity-input" min="1" value="1" onchange="updateTotal()" placeholder="Sasia">
                <button type="button" class="remove-btn" onclick="removeProduct(this)">Hiq</button>
            `;
            container.appendChild(newSelector);
            updateRemoveButtons();
        }

        // Remove product selector
        function removeProduct(button) {
            button.parentElement.remove();
            updateTotal();
            updateRemoveButtons();
        }

        // Update remove buttons visibility
        function updateRemoveButtons() {
            const selectors = document.querySelectorAll('.product-selector');
            selectors.forEach((selector, index) => {
                const removeBtn = selector.querySelector('.remove-btn');
                if (selectors.length > 1) {
                    removeBtn.style.display = 'block';
                } else {
                    removeBtn.style.display = 'none';
                }
            });
        }

        // Update total price and order summary
        function updateTotal() {
            let total = 0;
            const selectors = document.querySelectorAll('.product-selector');
            let orderItems = [];
            
            selectors.forEach(selector => {
                const productSelect = selector.querySelector('.product-select');
                const quantityInput = selector.querySelector('.quantity-input');
                
                if (productSelect.value && quantityInput.value) {
                    const price = productPrices[productSelect.value] || 0;
                    const quantity = parseInt(quantityInput.value) || 0;
                    const subtotal = price * quantity;
                    total += subtotal;
                    
                    orderItems.push(`${productSelect.value} x ${quantity} = ${subtotal.toLocaleString()} LekÃ«`);
                }
            });
            
            document.getElementById('totalAmount').textContent = total.toLocaleString();
            
            // Update order summary
            const orderSummary = document.getElementById('orderSummary');
            const orderSummaryContent = document.getElementById('orderSummaryContent');
            
            if (orderItems.length > 0) {
                orderSummaryContent.innerHTML = orderItems.join('<br>') + `<br><strong>TOTALI: ${total.toLocaleString()} LekÃ«</strong>`;
                orderSummary.style.display = 'block';
            } else {
                orderSummary.style.display = 'none';
            }
        }

        // Generate order summary for messages
        function generateOrderSummary() {
            const selectors = document.querySelectorAll('.product-selector');
            let orderItems = [];
            let total = 0;
            
            selectors.forEach(selector => {
                const productSelect = selector.querySelector('.product-select');
                const quantityInput = selector.querySelector('.quantity-input');
                
                if (productSelect.value && quantityInput.value) {
                    const productName = productSelect.value;
                    const quantity = parseInt(quantityInput.value);
                    const price = productPrices[productName];
                    const subtotal = price * quantity;
                    
                    orderItems.push(`${productName} x ${quantity} = ${subtotal.toLocaleString()} LekÃ«`);
                    total += subtotal;
                }
            });
            
            if (orderItems.length === 0) {
                return '';
            }
            
            return `\n\nPOROSIA:\n${orderItems.join('\n')}\n\nTOTALI: ${total.toLocaleString()} LekÃ«`;
        }

        // Send WhatsApp message
        function sendWhatsApp() {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const message = document.getElementById('message').value.trim();
            
            if (!name || !email) {
                const errorMessage = document.getElementById('errorMessage');
                errorMessage.textContent = 'Ju lutemi plotÃ«soni fushat e detyrueshme (Emri dhe Email).';
                errorMessage.style.display = 'block';
                setTimeout(() => errorMessage.style.display = 'none', 5000);
                return;
            }
            
            const orderSummary = generateOrderSummary();
            if (!orderSummary) {
                const errorMessage = document.getElementById('errorMessage');
                errorMessage.textContent = 'Ju lutemi zgjidhni tÃ« paktÃ«n njÃ« produkt pÃ«r t\'u porositur.';
                errorMessage.style.display = 'block';
                setTimeout(() => errorMessage.style.display = 'none', 5000);
                return;
            }
            
            const whatsappMessage = `ð *Porosi nga Bletari "Deni"*\n\n*Emri:* ${name}\n*Email:* ${email}\n*Telefoni:* ${phone || 'Nuk Ã«shtÃ« dhÃ«nÃ«'}\n\n*Mesazhi:* ${message || 'Nuk ka mesazh shtesÃ«'}${orderSummary}`;
            
            const whatsappNumber = '355685255190'; // WhatsApp number
            const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;
            
            window.open(whatsappURL, '_blank');
            
            // Show success message
            const successMessage = document.getElementById('successMessage');
            successMessage.textContent = 'Po hapim WhatsApp pÃ«r ju...';
            successMessage.style.display = 'block';
            setTimeout(() => successMessage.style.display = 'none', 5000);
        }

        // Form submission handler for email
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form elements
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const message = document.getElementById('message').value.trim();
            
            const submitBtn = document.getElementById('submitBtn');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Hide previous messages
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // Validate required fields
            if (!name || !email) {
                errorMessage.textContent = 'Ju lutemi plotÃ«soni fushat e detyrueshme (Emri dhe Email).';
                errorMessage.style.display = 'block';
                return;
            }
            
            // Validate email format
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                errorMessage.textContent = 'Ju lutemi vendosni njÃ« email tÃ« vlefshÃ«m.';
                errorMessage.style.display = 'block';
                return;
            }
            
            // Check if at least one product is selected
            const orderSummary = generateOrderSummary();
            if (!orderSummary) {
                errorMessage.textContent = 'Ju lutemi zgjidhni tÃ« paktÃ«n njÃ« produkt pÃ«r t\'u porositur.';
                errorMessage.style.display = 'block';
                return;
            }
            
            // Simulate form submission
            submitBtn.disabled = true;
            submitBtn.textContent = 'Duke dÃ«rguar...';
            
            // Create order message
            const fullMessage = `${message}${orderSummary}`;
            
            // Create mailto link
            const mailtoLink = `mailto:bletarideni@gmail.com?subject=Porosi nga ${name}&body=Emri: ${name}%0D%0AEmail: ${email}%0D%0ATelefoni: ${phone}%0D%0A%0D%0AMesazhi:%0D%0A${encodeURIComponent(fullMessage)}`;
            
            setTimeout(() => {
                // Show success message with instructions
                successMessage.innerHTML = `
                    <strong>Porosia Ã«shtÃ« pÃ«rgatitur!</strong><br>
                    NÃ«se nuk hapet automatikisht email-i, ju lutemi:<br>
                    1. Kopjoni kÃ«tÃ« adresÃ«: <strong>bletarideni@gmail.com</strong><br>
                    2. Ose telefononi: <strong>+355 68 52 55 190</strong><br>
                    3. Ose pÃ«rdorni WhatsApp mÃ« lart
                `;
                successMessage.style.display = 'block';
                
                // Try to open mailto link
                window.location.href = mailtoLink;
                
                // Reset button
                submitBtn.disabled = false;
                submitBtn.textContent = 'ð§ DÃ«rgo me Email';
            }, 2000);
        });

        // Add scroll effect to navigation
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(243, 156, 18, 0.95)';
            } else {
                header.style.background = 'linear-gradient(135deg, #f39c12 0%, #e67e22 100%)';
            }
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            const nav = document.querySelector('nav');
            const navLinks = document.querySelector('.nav-links');
            
            if (!nav.contains(e.target) && navLinks.classList.contains('active')) {
                navLinks.classList.remove('active');
            }
        });

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            generateProductsGrid();
            initializeProductSelectors();
            updateRemoveButtons();
            updateTotal();
        });
    </script>
</body>
</html>
